# Технический контекст

## Используемые технологии
- **Python 3.x**: Основной язык программирования проекта, с использованием современных возможностей Context7
- **Selenium**: Автоматизация взаимодействия с браузером и веб-страницами
- **Firefox WebDriver**: Драйвер для управления браузером Firefox через Selenium
- **Threading**: Библиотека для реализации многопоточности
- **Requests**: Работа с HTTP-запросами к API
- **TLDExtract**: Извлечение доменов из URL-адресов
- **Pillow (PIL)**: Обработка изображений для решения CAPTCHA
- **Python-dotenv**: Управление переменными окружения для хранения API-ключей
- **Logging**: Встроенная система логирования Python
- **CSV**: Работа с CSV-файлами для обработки данных
- **Pathlib**: Кросс-платформенная работа с путями файлов
- **Context7**: Использование современных возможностей языка и библиотек для повышения качества кода

## Настройка разработки
1. **Требования к окружению**:
   - Python 3.x (желательно 3.9+)
   - Firefox Browser
   - Доступ к интернету
   - API-ключ для Bukvarix

2. **Установка зависимостей**:
   ```
   pip install -r requirements.txt
   ```

3. **Настройка переменных окружения**:
   - Создать файл `.env` в корневой директории
   - Добавить переменную `BUKVARIX_API_KEY=ваш_ключ`

4. **Структура рабочих директорий**:
   - Создаются автоматически при запуске приложения
   - Логи сохраняются в директорию `logs`
   - Промежуточные результаты - в `results_folder`

5. **Стандарты кода**:
   - Использование современных конструкций языка Python (f-strings, async/await, walrus operator и др.)
   - Следование актуальным лучшим практикам (Context7)
   - Применение типизации для улучшения качества кода

## Технические ограничения
- **Ограничения API**: API Bukvarix имеет лимиты на количество запросов
- **Обработка CAPTCHA**: Зависимость от сервиса для решения CAPTCHA
- **Блокировки IP**: Возможны временные блокировки со стороны поисковых систем
- **Ресурсоемкость**: Веб-драйверы требуют значительных ресурсов при параллельном запуске
- **Изменения в HTML-структуре**: Зависимость от текущей структуры страниц поисковых систем
- **Совместимость версий**: При обновлении библиотек до актуальных версий могут возникать проблемы совместимости

## Зависимости
```
attrs==25.3.0
certifi==2025.1.31
cffi==1.17.1
charset-normalizer==3.4.1
filelock==3.18.0
h11==0.14.0
idna==3.10
merge==1.0.0
outcome==1.3.0.post0
packaging==24.2
pillow==11.1.0
pycparser==2.22
PySocks==1.7.1
python-dotenv==1.1.0
requests==2.32.3
requests-file==2.1.0
selenium==4.30.0
sniffio==1.3.1
sortedcontainers==2.4.0
tldextract==5.1.3
trio==0.29.0
trio-websocket==0.12.2
typing_extensions==4.13.0
urllib3==2.3.0
webdriver-manager==4.0.2
websocket-client==1.8.0
wsproto==1.2.0
```

## Инфраструктура
- **Локальная разработка и эксплуатация**: Проект разработан для работы на локальном компьютере
- **Веб-драйвер**: Автоматически устанавливается через webdriver-manager
- **Файловая система**: Используется для хранения всех результатов и логов
- **Внешние сервисы**:
  - API Bukvarix для получения ключевых слов
  - Сервис для решения CAPTCHA (capsola)
  - Поисковая система Яндекс для сбора данных
  
## Стратегия актуализации кода (Context7)
- **Регулярное обновление зависимостей**: Поддержание актуальных версий библиотек
- **Рефакторинг устаревшего кода**: Замена устаревших подходов на современные
- **Использование статического анализа**: Применение инструментов для выявления устаревших конструкций
- **Тестирование новых возможностей**: Интеграция новых возможностей языка и библиотек
- **Документирование актуальных подходов**: Обновление документации с учетом современных практик
- **Постепенная миграция**: Поэтапное обновление кодовой базы до современных стандартов 